{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-physics-release/pullrequests/5/comments/102671127.json"}, "html": {"href": "#!/ignitionrobotics/ign-physics-release/pull-requests/5/_/diff#comment-102671127"}}, "parent": {"id": 102522403, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-physics-release/pullrequests/5/comments/102522403.json"}, "html": {"href": "#!/ignitionrobotics/ign-physics-release/pull-requests/5/_/diff#comment-102522403"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 5, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-physics-release/pullrequests/5.json"}, "html": {"href": "#!/ignitionrobotics/ign-physics-release/pull-requests/5"}}, "title": "Force dart dependencies to be lower than 6.8.0"}, "content": {"raw": "The root of the problem is that upstream DART [does not guarantee ABI compatibility between minor versions](https://github.com/dartsim/dart/pull/1239) \\([proposal is being discussed](https://github.com/dartsim/dart/issues/1026)\\). With this in mind the library installation and names are right for DART \\( \\*.so.6.7\\) what is preventing ABI collision problems \\(instead of them we have these \u201cnot found\u201d at loader time\\).\n\nOur upstream source are also right about having the minimal version specification inside CMakeLists.txt. We support dart 6.8.x builds if people want to build them from source but we need to choose only one ABI for our binaries.\n\n> It might be sufficient to have someone with dart 6.8 installed to rebuild the ign-physics1 debians\n\nI don\u2019t think so. If someone wants to go with dart-6.8.x then he/she can rebuild the ign-physics1 packages but not only these packages. Everything build on top of these new binaries needs to be rebuilt. The only safe path I see is to build everything else from source starting with ign-physics.", "markup": "markdown", "html": "<p>The root of the problem is that upstream DART <a data-is-external-link=\"true\" href=\"https://github.com/dartsim/dart/pull/1239\" rel=\"nofollow\">does not guarantee ABI compatibility between minor versions</a> (<a data-is-external-link=\"true\" href=\"https://github.com/dartsim/dart/issues/1026\" rel=\"nofollow\">proposal is being discussed</a>). With this in mind the library installation and names are right for DART ( *.so.6.7) what is preventing ABI collision problems (instead of them we have these \u201cnot found\u201d at loader time).</p>\n<p>Our upstream source are also right about having the minimal version specification inside CMakeLists.txt. We support dart 6.8.x builds if people want to build them from source but we need to choose only one ABI for our binaries.</p>\n<blockquote>\n<p>It might be sufficient to have someone with dart 6.8 installed to rebuild the ign-physics1 debians</p>\n</blockquote>\n<p>I don\u2019t think so. If someone wants to go with dart-6.8.x then he/she can rebuild the ign-physics1 packages but not only these packages. Everything build on top of these new binaries needs to be rebuilt. The only safe path I see is to build everything else from source starting with ign-physics.</p>", "type": "rendered"}, "created_on": "2019-05-20T16:07:30.364448+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2019-05-20T16:07:30.379738+00:00", "type": "pullrequest_comment", "id": 102671127}